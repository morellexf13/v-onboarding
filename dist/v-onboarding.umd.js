(function(j,r){typeof exports=="object"&&typeof module!="undefined"?r(exports,require("vue"),require("@popperjs/core")):typeof define=="function"&&define.amd?define(["exports","vue","@popperjs/core"],r):(j=typeof globalThis!="undefined"?globalThis:j||self,r(j["v-onboarding"]={},j.Vue,j.core))})(this,function(j,r,re){"use strict";function at(i){return typeof i=="string"?document.querySelector(i):typeof i=="function"?i():null}const st={popper:{},overlay:{enabled:!0,padding:0,borderRadius:0},scrollToStep:{enabled:!0,options:{behavior:"smooth",block:"center",inline:"center"}}};function oe(){var O,A,z,N;const i=r.ref(""),m=r.ref(null),_=r.ref((A=(O=st.overlay)==null?void 0:O.padding)!=null?A:0),S=r.ref((N=(z=st.overlay)==null?void 0:z.borderRadius)!=null?N:0),b=()=>{C(m.value,{padding:_.value,borderRadius:S.value})},C=async(v,$=st.overlay)=>{var d,w,V,P,M,F,H,D,U,G,R,q;if(!v)return;const{innerWidth:x,innerHeight:y}=window,{left:Z,top:J,width:k,height:tt}=v.getBoundingClientRect(),T=typeof $.padding=="number"?{top:$.padding,right:$.padding,bottom:$.padding,left:$.padding}:$.padding,l=typeof $.borderRadius=="number"?{leftTop:$.borderRadius,rightTop:$.borderRadius,rightBottom:$.borderRadius,leftBottom:$.borderRadius}:$.borderRadius,u={top:J-((d=T==null?void 0:T.top)!=null?d:0),right:Z+k+((w=T==null?void 0:T.right)!=null?w:0),bottom:J+tt+((V=T==null?void 0:T.bottom)!=null?V:0),left:Z-((P=T==null?void 0:T.left)!=null?P:0)},c={leftTop:`M${u.left+((M=l==null?void 0:l.leftTop)!=null?M:0)},${u.top} Q${u.left},${u.top} ${u.left},${u.top+((F=l==null?void 0:l.leftTop)!=null?F:0)}`,rightTop:`V${u.top+((H=l==null?void 0:l.rightTop)!=null?H:0)} Q${u.right},${u.top} ${u.right-((D=l==null?void 0:l.rightTop)!=null?D:0)},${u.top}`,rightBottom:`H${u.right-((U=l==null?void 0:l.rightBottom)!=null?U:0)} Q${u.right},${u.bottom} ${u.right},${u.bottom-((G=l==null?void 0:l.rightBottom)!=null?G:0)}`,leftBottom:`V${u.bottom-((R=l==null?void 0:l.leftBottom)!=null?R:0)} Q${u.left},${u.bottom} ${u.left+((q=l==null?void 0:l.leftBottom)!=null?q:0)},${u.bottom}`};i.value=`
      M${x},${y}
      H0V0
      H${x}V${y}
      Z
      ${c.leftTop}
      ${c.leftBottom}
      ${c.rightBottom}
      ${c.rightTop}
      Z
    `,m.value=v,_.value=T,S.value=l,window.addEventListener("scroll",b),window.addEventListener("resize",b)};return r.onUnmounted(()=>{window.removeEventListener("scroll",b),window.removeEventListener("resize",b)}),{path:i,updatePath:C}}var ct=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},bt={exports:{}};(function(i,m){var _=200,S="__lodash_hash_undefined__",b=800,C=16,O=9007199254740991,A="[object Arguments]",z="[object Array]",N="[object AsyncFunction]",v="[object Boolean]",$="[object Date]",x="[object Error]",y="[object Function]",Z="[object GeneratorFunction]",J="[object Map]",k="[object Number]",tt="[object Null]",T="[object Object]",l="[object Proxy]",u="[object RegExp]",c="[object Set]",d="[object String]",w="[object Undefined]",V="[object WeakMap]",P="[object ArrayBuffer]",M="[object DataView]",F="[object Float32Array]",H="[object Float64Array]",D="[object Int8Array]",U="[object Int16Array]",G="[object Int32Array]",R="[object Uint8Array]",q="[object Uint8ClampedArray]",Te="[object Uint16Array]",Se="[object Uint32Array]",$e=/[\\^$.*+?()[\]{}|]/g,Oe=/^\[object .+?Constructor\]$/,we=/^(?:0|[1-9]\d*)$/,p={};p[F]=p[H]=p[D]=p[U]=p[G]=p[R]=p[q]=p[Te]=p[Se]=!0,p[A]=p[z]=p[P]=p[v]=p[M]=p[$]=p[x]=p[y]=p[J]=p[k]=p[T]=p[u]=p[c]=p[d]=p[V]=!1;var Pt=typeof ct=="object"&&ct&&ct.Object===Object&&ct,Ce=typeof self=="object"&&self&&self.Object===Object&&self,et=Pt||Ce||Function("return this")(),xt=m&&!m.nodeType&&m,nt=xt&&!0&&i&&!i.nodeType&&i,It=nt&&nt.exports===xt,mt=It&&Pt.process,Lt=function(){try{var t=nt&&nt.require&&nt.require("util").types;return t||mt&&mt.binding&&mt.binding("util")}catch{}}(),zt=Lt&&Lt.isTypedArray;function Ae(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ee(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}function Be(t){return function(e){return t(e)}}function je(t,e){return t==null?void 0:t[e]}function Ne(t,e){return function(n){return t(e(n))}}var Ve=Array.prototype,Pe=Function.prototype,lt=Object.prototype,vt=et["__core-js_shared__"],ft=Pe.toString,I=lt.hasOwnProperty,Mt=function(){var t=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ft=lt.toString,xe=ft.call(Object),Ie=RegExp("^"+ft.call(I).replace($e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=It?et.Buffer:void 0,Ht=et.Symbol,Dt=et.Uint8Array,Ut=ut?ut.allocUnsafe:void 0,Gt=Ne(Object.getPrototypeOf,Object),Rt=Object.create,Le=lt.propertyIsEnumerable,ze=Ve.splice,W=Ht?Ht.toStringTag:void 0,dt=function(){try{var t=St(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Me=ut?ut.isBuffer:void 0,qt=Math.max,Fe=Date.now,Wt=St(et,"Map"),rt=St(Object,"create"),He=function(){function t(){}return function(e){if(!Q(e))return{};if(Rt)return Rt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function K(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function De(){this.__data__=rt?rt(null):{},this.size=0}function Ue(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ge(t){var e=this.__data__;if(rt){var n=e[t];return n===S?void 0:n}return I.call(e,t)?e[t]:void 0}function Re(t){var e=this.__data__;return rt?e[t]!==void 0:I.call(e,t)}function qe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rt&&e===void 0?S:e,this}K.prototype.clear=De,K.prototype.delete=Ue,K.prototype.get=Ge,K.prototype.has=Re,K.prototype.set=qe;function L(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function We(){this.__data__=[],this.size=0}function Ke(t){var e=this.__data__,n=pt(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():ze.call(e,n,1),--this.size,!0}function Qe(t){var e=this.__data__,n=pt(e,t);return n<0?void 0:e[n][1]}function Ze(t){return pt(this.__data__,t)>-1}function Je(t,e){var n=this.__data__,o=pt(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}L.prototype.clear=We,L.prototype.delete=Ke,L.prototype.get=Qe,L.prototype.has=Ze,L.prototype.set=Je;function X(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Xe(){this.size=0,this.__data__={hash:new K,map:new(Wt||L),string:new K}}function Ye(t){var e=gt(this,t).delete(t);return this.size-=e?1:0,e}function ke(t){return gt(this,t).get(t)}function tn(t){return gt(this,t).has(t)}function en(t,e){var n=gt(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}X.prototype.clear=Xe,X.prototype.delete=Ye,X.prototype.get=ke,X.prototype.has=tn,X.prototype.set=en;function Y(t){var e=this.__data__=new L(t);this.size=e.size}function nn(){this.__data__=new L,this.size=0}function rn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function on(t){return this.__data__.get(t)}function an(t){return this.__data__.has(t)}function sn(t,e){var n=this.__data__;if(n instanceof L){var o=n.__data__;if(!Wt||o.length<_-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new X(o)}return n.set(t,e),this.size=n.size,this}Y.prototype.clear=nn,Y.prototype.delete=rn,Y.prototype.get=on,Y.prototype.has=an,Y.prototype.set=sn;function cn(t,e){var n=wt(t),o=!n&&Ot(t),s=!n&&!o&&Xt(t),f=!n&&!o&&!s&&kt(t),h=n||o||s||f,a=h?Ee(t.length,String):[],g=a.length;for(var B in t)(e||I.call(t,B))&&!(h&&(B=="length"||s&&(B=="offset"||B=="parent")||f&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||Zt(B,g)))&&a.push(B);return a}function yt(t,e,n){(n!==void 0&&!_t(t[e],n)||n===void 0&&!(e in t))&&Tt(t,e,n)}function ln(t,e,n){var o=t[e];(!(I.call(t,e)&&_t(o,n))||n===void 0&&!(e in t))&&Tt(t,e,n)}function pt(t,e){for(var n=t.length;n--;)if(_t(t[n][0],e))return n;return-1}function Tt(t,e,n){e=="__proto__"&&dt?dt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fn=$n();function ht(t){return t==null?t===void 0?w:tt:W&&W in Object(t)?On(t):jn(t)}function Kt(t){return ot(t)&&ht(t)==A}function un(t){if(!Q(t)||En(t))return!1;var e=At(t)?Ie:Oe;return e.test(xn(t))}function dn(t){return ot(t)&&Yt(t.length)&&!!p[ht(t)]}function pn(t){if(!Q(t))return Bn(t);var e=Jt(t),n=[];for(var o in t)o=="constructor"&&(e||!I.call(t,o))||n.push(o);return n}function Qt(t,e,n,o,s){t!==e&&fn(e,function(f,h){if(s||(s=new Y),Q(f))hn(t,e,h,n,Qt,o,s);else{var a=o?o($t(t,h),f,h+"",t,e,s):void 0;a===void 0&&(a=f),yt(t,h,a)}},te)}function hn(t,e,n,o,s,f,h){var a=$t(t,n),g=$t(e,n),B=h.get(g);if(B){yt(t,n,B);return}var E=f?f(a,g,n+"",t,e,h):void 0,it=E===void 0;if(it){var Et=wt(g),Bt=!Et&&Xt(g),ne=!Et&&!Bt&&kt(g);E=g,Et||Bt||ne?wt(a)?E=a:In(a)?E=yn(a):Bt?(it=!1,E=bn(g,!0)):ne?(it=!1,E=vn(g,!0)):E=[]:Ln(g)||Ot(g)?(E=a,Ot(a)?E=zn(a):(!Q(a)||At(a))&&(E=wn(g))):it=!1}it&&(h.set(g,E),s(E,g,o,f,h),h.delete(g)),yt(t,n,E)}function gn(t,e){return Vn(Nn(t,e,ee),t+"")}var _n=dt?function(t,e){return dt(t,"toString",{configurable:!0,enumerable:!1,value:Fn(e),writable:!0})}:ee;function bn(t,e){if(e)return t.slice();var n=t.length,o=Ut?Ut(n):new t.constructor(n);return t.copy(o),o}function mn(t){var e=new t.constructor(t.byteLength);return new Dt(e).set(new Dt(t)),e}function vn(t,e){var n=e?mn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function yn(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}function Tn(t,e,n,o){var s=!n;n||(n={});for(var f=-1,h=e.length;++f<h;){var a=e[f],g=o?o(n[a],t[a],a,n,t):void 0;g===void 0&&(g=t[a]),s?Tt(n,a,g):ln(n,a,g)}return n}function Sn(t){return gn(function(e,n){var o=-1,s=n.length,f=s>1?n[s-1]:void 0,h=s>2?n[2]:void 0;for(f=t.length>3&&typeof f=="function"?(s--,f):void 0,h&&Cn(n[0],n[1],h)&&(f=s<3?void 0:f,s=1),e=Object(e);++o<s;){var a=n[o];a&&t(e,a,o,f)}return e})}function $n(t){return function(e,n,o){for(var s=-1,f=Object(e),h=o(e),a=h.length;a--;){var g=h[t?a:++s];if(n(f[g],g,f)===!1)break}return e}}function gt(t,e){var n=t.__data__;return An(e)?n[typeof e=="string"?"string":"hash"]:n.map}function St(t,e){var n=je(t,e);return un(n)?n:void 0}function On(t){var e=I.call(t,W),n=t[W];try{t[W]=void 0;var o=!0}catch{}var s=Ft.call(t);return o&&(e?t[W]=n:delete t[W]),s}function wn(t){return typeof t.constructor=="function"&&!Jt(t)?He(Gt(t)):{}}function Zt(t,e){var n=typeof t;return e=e==null?O:e,!!e&&(n=="number"||n!="symbol"&&we.test(t))&&t>-1&&t%1==0&&t<e}function Cn(t,e,n){if(!Q(n))return!1;var o=typeof e;return(o=="number"?Ct(n)&&Zt(e,n.length):o=="string"&&e in n)?_t(n[e],t):!1}function An(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function En(t){return!!Mt&&Mt in t}function Jt(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lt;return t===n}function Bn(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}function jn(t){return Ft.call(t)}function Nn(t,e,n){return e=qt(e===void 0?t.length-1:e,0),function(){for(var o=arguments,s=-1,f=qt(o.length-e,0),h=Array(f);++s<f;)h[s]=o[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=o[s];return a[e]=n(h),Ae(t,this,a)}}function $t(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Vn=Pn(_n);function Pn(t){var e=0,n=0;return function(){var o=Fe(),s=C-(o-n);if(n=o,s>0){if(++e>=b)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function xn(t){if(t!=null){try{return ft.call(t)}catch{}try{return t+""}catch{}}return""}function _t(t,e){return t===e||t!==t&&e!==e}var Ot=Kt(function(){return arguments}())?Kt:function(t){return ot(t)&&I.call(t,"callee")&&!Le.call(t,"callee")},wt=Array.isArray;function Ct(t){return t!=null&&Yt(t.length)&&!At(t)}function In(t){return ot(t)&&Ct(t)}var Xt=Me||Hn;function At(t){if(!Q(t))return!1;var e=ht(t);return e==y||e==Z||e==N||e==l}function Yt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=O}function Q(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function ot(t){return t!=null&&typeof t=="object"}function Ln(t){if(!ot(t)||ht(t)!=T)return!1;var e=Gt(t);if(e===null)return!0;var n=I.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ft.call(n)==xe}var kt=zt?Be(zt):dn;function zn(t){return Tn(t,te(t))}function te(t){return Ct(t)?cn(t,!0):pn(t)}var Mn=Sn(function(t,e,n){Qt(t,e,n)});function Fn(t){return function(){return t}}function ee(t){return t}function Hn(){return!1}i.exports=Mn})(bt,bt.exports);var jt=bt.exports,Nt=(i,m)=>{const _=i.__vccOpts||i;for(const[S,b]of m)_[S]=b;return _};const ie=r.defineComponent({name:"VOnboardingStep",setup(i,{slots:m}){const _=r.ref(!1),S=r.inject("next-step",()=>{}),b=r.inject("previous-step",()=>{}),C=r.inject("exit",()=>{}),O=r.inject("options"),A=r.computed(()=>jt({},O==null?void 0:O.value,v.value.options)),z=r.inject("is-first-step"),N=r.inject("is-last-step"),v=r.inject("step",{}),$=()=>{T(),S()},x=()=>{T(),b()};r.watch(()=>v.value,(c,d)=>{var w;!((w=m.default)!=null&&w.call(m))||T(d)});const y=r.ref(null),{updatePath:Z,path:J}=oe(),k=()=>{var d,w,V,P,M,F,H,D,U,G,R,q;const c=at((w=(d=v==null?void 0:v.value)==null?void 0:d.attachTo)==null?void 0:w.element);c&&y.value&&(_.value=!0,(P=(V=A.value)==null?void 0:V.scrollToStep)!=null&&P.enabled&&c.scrollIntoView((F=(M=A.value)==null?void 0:M.scrollToStep)==null?void 0:F.options),re.createPopper(c,y.value,A.value.popper),(D=(H=A.value)==null?void 0:H.overlay)!=null&&D.enabled&&Z(c,{padding:(G=(U=A.value)==null?void 0:U.overlay)==null?void 0:G.padding,borderRadius:(q=(R=A.value)==null?void 0:R.overlay)==null?void 0:q.borderRadius}),l(c))},tt=async()=>{var c,d,w;await((w=(d=(c=v==null?void 0:v.value)==null?void 0:c.on)==null?void 0:d.beforeStep)==null?void 0:w.call(d)),k()},T=(c=v.value)=>{var d,w,V,P;(w=(d=c==null?void 0:c.on)==null?void 0:d.afterStep)==null||w.call(d),u(at((V=c==null?void 0:c.attachTo)==null?void 0:V.element),(P=c.attachTo)==null?void 0:P.classList)},l=(c=at(v.value.attachTo.element))=>{const d=v.value.attachTo.classList;!d||!c||c.classList.add(...d)},u=(c=at(v.value.attachTo.element),d)=>{!d||!c||c.classList.remove(...d)};return r.onMounted(tt),{stepElement:y,onNext:$,onPrevious:x,path:J,show:_,step:v,isFirst:z,isLast:N,exit:C}}}),ae={style:{width:"100%",height:"100%",position:"fixed",top:"0",left:"0",opacity:"0.5","z-index":"var(--v-onboarding-overlay-z, 10)","pointer-events":"none"}},se=["d"],ce={ref:"stepElement",style:{position:"relative","z-index":"var(--v-onboarding-step-z, 20)"}},le={class:"v-onboarding-item"},fe={class:"v-onboarding-item__header"},ue={key:0,class:"v-onboarding-item__header-title"},de=["innerHTML"],pe={class:"v-onboarding-item__actions"},he=r.createElementVNode("div",{"data-popper-arrow":""},null,-1);function ge(i,m,_,S,b,C){return r.withDirectives((r.openBlock(),r.createElementBlock("div",null,[(r.openBlock(),r.createElementBlock("svg",ae,[r.createElementVNode("path",{d:i.path},null,8,se)])),r.createElementVNode("div",ce,[i.step?r.renderSlot(i.$slots,"default",{key:0},()=>[r.createElementVNode("div",le,[r.createElementVNode("div",fe,[i.step.content.title?(r.openBlock(),r.createElementBlock("span",ue,r.toDisplayString(i.step.content.title),1)):r.createCommentVNode("",!0)]),i.step.content.description?(r.openBlock(),r.createElementBlock("p",{key:0,class:"v-onboarding-item__description",innerHTML:i.step.content.description},null,8,de)):r.createCommentVNode("",!0),r.createElementVNode("div",pe,[i.isFirst?r.createCommentVNode("",!0):(r.openBlock(),r.createElementBlock("button",{key:0,type:"button",onClick:m[0]||(m[0]=(...O)=>i.onPrevious&&i.onPrevious(...O)),class:"v-onboarding-btn-secondary"}," Previous ")),r.createElementVNode("button",{onClick:m[1]||(m[1]=(...O)=>i.onNext&&i.onNext(...O)),type:"button",class:"v-onboarding-btn-primary"},r.toDisplayString(i.isLast?"Accept":"Next"),1)])])]):r.createCommentVNode("",!0),he],512)],512)),[[r.vShow,i.show]])}var Vt=Nt(ie,[["render",ge]]);const _e=r.defineComponent({name:"VOnboardingWrapper",components:{VOnboardingStep:Vt},props:{steps:{type:Array,default:()=>[]},options:{type:Object,default:()=>({})}},setup(i,{expose:m}){const _=r.ref(-1),S=y=>{typeof y=="function"?_.value=y(_.value):_.value=y},b=r.computed(()=>{var y;return((y=i.steps)==null?void 0:y[_.value])||null}),C=()=>{S(y=>y-1)},O=()=>{S(y=>y+1)},A=r.computed(()=>_.value>=i.steps.length||_.value<0),z=()=>{S(0)},N=()=>{S(-1)};m({start:z,finish:N,goToStep:S});const v=r.computed(()=>jt({},st,i.options));r.provide("options",v),r.provide("step",b),r.provide("next-step",O),r.provide("previous-step",C),r.provide("exit",()=>N());const $=r.computed(()=>_.value===0),x=r.computed(()=>_.value===i.steps.length-1);return r.provide("is-first-step",$),r.provide("is-last-step",x),{index:_,activeStep:b,toPreviousStep:C,toNextStep:O,isFinished:A,setIndex:S,isFirstStep:$,isLastStep:x,finish:N}}}),be={key:0,"data-v-onboarding-wrapper":""};function me(i,m,_,S,b,C){const O=r.resolveComponent("VOnboardingStep");return i.isFinished?r.createCommentVNode("",!0):(r.openBlock(),r.createElementBlock("div",be,[r.renderSlot(i.$slots,"default",{key:i.index,step:i.activeStep,next:()=>i.toNextStep(),previous:()=>i.toPreviousStep(),exit:()=>i.finish(),isFirst:i.isFirstStep,isLast:i.isLastStep,index:i.index},()=>[(r.openBlock(),r.createBlock(O,{key:i.index}))])]))}var ve=Nt(_e,[["render",me]]);function ye(i){return{start:()=>{var b;return(b=i==null?void 0:i.value)==null?void 0:b.start()},finish:()=>{var b;return(b=i==null?void 0:i.value)==null?void 0:b.finish()},goToStep:b=>{var C;return(C=i==null?void 0:i.value)==null?void 0:C.goToStep(b)}}}var Dn="";j.VOnboardingStep=Vt,j.VOnboardingWrapper=ve,j.useVOnboarding=ye,Object.defineProperties(j,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
